webpackJsonp([6],{CclK:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABHElEQVQ4T72TPU7DQBCF37NkCQpyAcJPC5W9WzhUcInQIy5AjZQKiZoLRPTkElDBFrt2BS0/4QJQgGTJg2wlaG0DjhSJLXdmPr03P8SSj816pdSRiJg0Te/9WBzHuyQT59yl/18BoijaDoJgRHINwEBEpiSnfqKI9En2AdyJyHtRFGdZlj1WAKXUGMAnyWsROSF5C8A01CUiskfyQkQOAKw4544rgNb6CsDEWjtRSu2EYfhqjHnzAUmS9PI8X3fOPWithwCG1trDb8BMYk32b/2d59YAAF5KfwsOZQBgowmoLCwC+NHCvAclYP/844nAZm0KwPPN6erWrGftHviALhWdCpYG/L8FfxO75Jfx1iY2bqGT0bqFzoo/Er4Ak3yxETU1CzQAAAAASUVORK5CYII="},JsPi:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"SubmitInformation",components:{Headers:n("Cz8s").a},data:function(){return{date:"",title:"提交汇款信息",show:!1,minDate:new Date(2021,0,1),fileList:[],voucherImgs:[],disable:!1,bankName:"",backUser:"",phone:"",note:""}},computed:{},mounted:function(){},methods:{bank:function(t){this.bankName=t.currentTarget.value,this._datelength()},user:function(t){this.backUser=t.currentTarget.value,this._datelength()},myPhone:function(t){this.phone=t.currentTarget.value,this._datelength()},_datelength:function(){this.bankName.length<=50&&this.backUser.length<=50&&this.phone.length>=11&&0!=this.fileList.length?this.disable=!0:this.disable=!1},afterRead:function(t){var e=this;this._datelength();var n=new window.FormData;n.append("file",t.file),this.axios.post("/api/v1/order/uploadImgUrl?sessionId="+this.$cookies.get("sessionId"),n).then(function(t){"200000"==t.data.code&&(e.voucherImgs=e.voucherImgs.concat(t.data.data))},function(t){"缓存用户信息不存在"==t.response.data.message&&(e.$cookies.remove("sessionId"),e.$router.push({path:"/login"}))})},submitVoucher:function(){var t=this,e={data:{account:this.bankName,accountName:this.backUser,orderNo:this.$route.query.id,payTime:this.date,phoneNumber:this.phone,remark:this.note,voucherImgs:this.voucherImgs},sessionId:this.$cookies.get("sessionId")};this.axios.post("/api/v1/order/submitVoucher",e).then(function(e){"200000"==e.data.code&&t.$router.push({path:"/SubmitSuccess"})},function(e){"缓存用户信息不存在"==e.response.data.message&&(t.$cookies.remove("sessionId"),t.$router.push({path:"/login"}))})},formatDate:function(t){return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},onConfirm:function(t){this.show=!1,this.date=this.formatDate(t)}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"white_background"},[s("headers",{attrs:{title:t.title}}),t._v(" "),s("div",{staticClass:"contan white_background_content"},[s("div",{staticClass:"SubmitImg"},[t._m(0),t._v(" "),s("van-uploader",{attrs:{multiple:!1,"after-read":t.afterRead,"max-count":3,deletable:!1},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}})],1),t._v(" "),s("div",{staticClass:"submitInformation"},[t._m(1),t._v(" "),s("input",{attrs:{type:"text",placeholder:"请输入付款银行户名"},on:{input:function(e){return t.bank(e)}}})]),t._v(" "),s("div",{staticClass:"submitInformation"},[t._m(2),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.backUser,expression:"backUser"}],attrs:{type:"text",placeholder:"请输入付款银行账号"},domProps:{value:t.backUser},on:{input:[function(e){e.target.composing||(t.backUser=e.target.value)},function(e){return t.user(e)}]}})]),t._v(" "),s("div",{staticClass:"submitInformation"},[t._m(3),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text",placeholder:"请输入联系手机"},domProps:{value:t.phone},on:{input:[function(e){e.target.composing||(t.phone=e.target.value)},function(e){return t.myPhone(e)}]}})]),t._v(" "),s("div",{staticClass:"submitInformation"},[s("p",[t._v("付款日期")]),t._v(" "),s("input",{attrs:{type:"text",readonly:"readonly",placeholder:"请选择付款日期"},domProps:{value:t.date},on:{click:function(e){t.show=!0}}}),t._v(" "),s("img",{attrs:{src:n("CclK"),value:t.date},on:{click:function(e){t.show=!0}}}),t._v(" "),s("van-calendar",{attrs:{"min-date":t.minDate},on:{confirm:t.onConfirm},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1),t._v(" "),s("div",{staticClass:"submitInformation"},[s("p",[t._v("备注")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.note,expression:"note"}],attrs:{type:"text",placeholder:"请输入备注信息"},domProps:{value:t.note},on:{input:function(e){e.target.composing||(t.note=e.target.value)}}})]),t._v(" "),s("button",{class:t.disable?"submit":"submitFalse",attrs:{disabled:!t.disable},on:{click:function(e){return t.submitVoucher()}}},[t._v("确认提交")])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",[this._v("*")]),this._v("付款凭证")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",[this._v("*")]),this._v("付款银行户名")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",[this._v("*")]),this._v("付款银行账号")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",[this._v("*")]),this._v("联系手机")])}]};var i=n("C7Lr")(s,a,!1,function(t){n("a1by")},null,null);e.default=i.exports},a1by:function(t,e){}});
//# sourceMappingURL=6.44f7462eda7c0c07c921.js.map