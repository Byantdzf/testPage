{"version":3,"sources":["webpack:///src/pages/activity.vue","webpack:///./src/pages/activity.vue?c748","webpack:///./src/pages/activity.vue"],"names":["activity","name","data","items","orderContent","show","src","tatol","size","pages","loading","finished","Once","title","components","Headers","mounted","computed","methods","dateFormat","fmt","date","ret","opt","Y+","Date","getFullYear","toString","m+","getMonth","d+","getDate","H+","getHours","M+","getMinutes","S+","getSeconds","k","RegExp","exec","replace","length","padStart","onLoad","this","getActive","_this","axios","post","pageNum","pageSize","sessionId","$cookies","get","then","res","concat","records","total","error","response","message","remove","$router","push","path","catch","reject","showModelList","item","qrcodeUrl","pages_activity","render","_vm","_h","$createElement","_c","_self","attrs","_v","staticClass","finished-text","on","load","model","value","callback","$$v","expression","_l","index","key","click","$event","imageUrl","alt","_s","activityName","beginTime","endTime","opusNum","signNum","voteNum","stopPropagation","color","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/13.7ec11b0099aaab75b322.js","sourcesContent":["<template>\r\n  <div>\r\n    <headers :title=\"title\"></headers>\r\n    <div class=\"conten\">\r\n      <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多了\" @load=\"onLoad\">\r\n        <div class=\"activity activity_card\" v-for=\"(item,index) in orderContent\" :key=\"index\" :title=\"item\" @click=\"showModelList(item)\">\r\n          <img class=\"activityImg\" :src=\"item.imageUrl\" alt=\"\">\r\n          <div class=\"activityInfo\">\r\n            <div class=\"activityTime\">\r\n              <p>{{item.activityName}}</p>\r\n              <span>{{dateFormat('YYYY-mm-dd',item.beginTime)}}-{{dateFormat('mm-dd',item.endTime)}}</span>\r\n            </div>\r\n            <div class=\"activityNum\">\r\n              <div>\r\n                <span class=\"glue\">作品:</span>\r\n                <span>{{item.opusNum}}</span>\r\n              </div>\r\n              <div>\r\n                <span class=\"glue\">报名:</span>\r\n                <span>{{item.signNum}}</span>\r\n              </div>\r\n              <div>\r\n                <span class=\"glue\">投票:</span>\r\n                <span>{{item.voteNum}}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </van-list>\r\n\r\n      <van-overlay :show=\"show\" @click=\"show = false\">\r\n        <div class=\"wrapper\" @click.stop>\r\n          <div class=\"qcode\">\r\n            <img :src=\"src\" />\r\n            <p>需使用微信扫码/识别查看活动</p>\r\n            <p>长按二维码保存到相册</p>\r\n            <div class=\"close_qc\" @click=\"show = false\">\r\n              <van-icon name=\"close\" color=\"#fff\" size=\"28\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </van-overlay>\r\n\r\n    </div>\r\n\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nimport Headers from '@/components/header'\r\n  export default {\r\n    name: 'activity',\r\n    data() {\r\n      return {\r\n        items: [],\r\n        orderContent: [],\r\n        show: false,\r\n        src: '',\r\n        tatol: '',\r\n        size: 1,\r\n        pages:'',\r\n        loading:false,\r\n        finished: false,\r\n        Once: true,\r\n        title:'我的活动',\r\n\r\n      }\r\n    },\r\n    components: {\r\n      Headers\r\n    },\r\n    mounted() {\r\n      \r\n    },\r\n    computed: {\r\n    },\r\n    methods: {\r\n      dateFormat(fmt, date) {\r\n        let ret = \"\";\r\n        date = new Date(date);\r\n        const opt = {\r\n          'Y+': date.getFullYear().toString(), // 年\r\n          'm+': (date.getMonth() + 1).toString(), // 月\r\n          'd+': date.getDate().toString(), // 日\r\n          'H+': date.getHours().toString(), // 时\r\n          'M+': date.getMinutes().toString(), // 分\r\n          'S+': date.getSeconds().toString() // 秒\r\n          // 有其他格式化字符需求可以继续添加，必须转化成字符串\r\n        }\r\n        for (let k in opt) {\r\n          ret = new RegExp('(' + k + ')').exec(fmt)\r\n          if (ret) {\r\n            fmt = fmt.replace(\r\n              ret[1],\r\n              ret[1].length == 1 ? opt[k] : opt[k].padStart(ret[1].length, '0')\r\n            )\r\n          }\r\n        }\r\n        return fmt\r\n      },\r\n      onLoad() {\r\n        this.getActive()\r\n      },\r\n      getActive(){\r\n        if(!this.Once){return}\r\n        \r\n        if(this.pages!=''&&this.pages<=(this.size-1)){\r\n          this.finished = true\r\n          this.loading = false\r\n          return\r\n        }\r\n        this.Once = false\r\n        this.axios.post('/api/v1/user/getActivityLists', {\r\n          \"data\": {\r\n            \"pageNum\": this.size,\r\n            \"pageSize\": 10,\r\n          },\r\n          \"sessionId\": this.$cookies.get('sessionId')\r\n        }).then(res => {\r\n          this.orderContent = this.orderContent.concat(res.data.data.records) \r\n          this.tatol = res.data.data.total\r\n          this.pages = res.data.data.pages\r\n          if(this.tatol==0){\r\n            this.finished=true\r\n            this.Once = true\r\n          }else{\r\n            this.size = this.size+1\r\n            this.loading=false\r\n            this.Once = true\r\n            this.finished=false\r\n          }         \r\n        },error=>{\r\n          if(error.response.data.message=='缓存用户信息不存在'){\r\n              this.$cookies.remove(\"sessionId\")\r\n              this.$router.push({path:'/login'})\r\n          }\r\n        }).catch((response) => {\r\n          this.Once = true\r\n          reject(response)\r\n        })\r\n      },\r\n      showModelList(item) {\r\n        this.show = true\r\n        this.src = item.qrcodeUrl\r\n      }\r\n    },\r\n  }\r\n</script>\r\n<style lang=\"scss\">\r\n  .wrapper {\r\n    position: absolute;\r\n    top: 25%;\r\n    left: 10%;\r\n    width: 80%;\r\n  }\r\n\r\n  .qcode {\r\n    text-align: center;\r\n\r\n  }\r\n\r\n  .qcode img {\r\n    width: 320px;\r\n    height: 320px;\r\n    margin-bottom: 40px;\r\n    border-radius: 16px;\r\n  }\r\n\r\n  .qcode p {\r\n    font-size: 34px;\r\n    line-height: 48px;\r\n    color: #fff;\r\n    text-align: center;\r\n  }\r\n\r\n  .close_qc {\r\n    margin-top: 40px;\r\n  }\r\n\r\n\r\n  .block {\r\n    width: 120px;\r\n    height: 120px;\r\n    background-color: #fff;\r\n  }\r\n\r\n  .activityNum {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    width: 95%;\r\n    margin: 0 auto;\r\n    margin-top: 10px;\r\n  }\r\n\r\n  .activityNum sapn {\r\n    font-size: 24px;\r\n  }\r\n\r\n  .glue {\r\n    color: #999999;\r\n  }\r\n\r\n  .activityTime {\r\n    width: 95%;\r\n    margin: 0 auto;\r\n    margin-top: 10px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    height: 50px;\r\n    line-height: 50px;\r\n  }\r\n\r\n  .activityTime p {\r\n    font-size: 32px;\r\n    font-weight: 600;\r\n  }\r\n\r\n  .activityTime span {\r\n    font-size: 24px;\r\n    color: #999999;\r\n  }\r\n\r\n  .conten {\r\n    width: 689px;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  .activity {\r\n    width: 100%;\r\n    height: 385px;\r\n    border-radius: 8px;\r\n    margin-top: 40px;\r\n    box-shadow: 0px 20px 31px -20px rgba(0, 0, 0, 0.16), 0px 0px 20px -10px rgba(0, 0, 0, 0.04);\r\n  }\r\n\r\n  .activityImg {\r\n    width: 100%;\r\n    height: 240px;\r\n    overflow: hidden;\r\n    border-top-left-radius: 10px;\r\n    border-top-right-radius: 10px;\r\n  }\r\n  .activity_card{\r\n    border-radius: 10px;\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/activity.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('headers',{attrs:{\"title\":_vm.title}}),_vm._v(\" \"),_c('div',{staticClass:\"conten\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.orderContent),function(item,index){return _c('div',{key:index,staticClass:\"activity activity_card\",attrs:{\"title\":item},on:{\"click\":function($event){return _vm.showModelList(item)}}},[_c('img',{staticClass:\"activityImg\",attrs:{\"src\":item.imageUrl,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"activityInfo\"},[_c('div',{staticClass:\"activityTime\"},[_c('p',[_vm._v(_vm._s(item.activityName))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.dateFormat('YYYY-mm-dd',item.beginTime))+\"-\"+_vm._s(_vm.dateFormat('mm-dd',item.endTime)))])]),_vm._v(\" \"),_c('div',{staticClass:\"activityNum\"},[_c('div',[_c('span',{staticClass:\"glue\"},[_vm._v(\"作品:\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.opusNum))])]),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"glue\"},[_vm._v(\"报名:\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.signNum))])]),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"glue\"},[_vm._v(\"投票:\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.voteNum))])])])])])}),0),_vm._v(\" \"),_c('van-overlay',{attrs:{\"show\":_vm.show},on:{\"click\":function($event){_vm.show = false}}},[_c('div',{staticClass:\"wrapper\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"qcode\"},[_c('img',{attrs:{\"src\":_vm.src}}),_vm._v(\" \"),_c('p',[_vm._v(\"需使用微信扫码/识别查看活动\")]),_vm._v(\" \"),_c('p',[_vm._v(\"长按二维码保存到相册\")]),_vm._v(\" \"),_c('div',{staticClass:\"close_qc\",on:{\"click\":function($event){_vm.show = false}}},[_c('van-icon',{attrs:{\"name\":\"close\",\"color\":\"#fff\",\"size\":\"28\"}})],1)])])])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-95884acc\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/activity.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-95884acc\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":7.5}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./activity.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./activity.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./activity.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-95884acc\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./activity.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/activity.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}